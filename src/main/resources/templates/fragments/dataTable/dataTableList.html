<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
	
<th:block th:fragment="scripts">
	<!-- JQuery -->
	<!-- 
		JQuery가 dataTable 보다 먼저 선언되어 있어야 한다.
	-->
	<!-- Remove : duplicate parent page  -->
	<!-- <script src="/resources/datatable/js/jquery-2.1.1.min.js"></script> -->
	<script src="/resources/datatable/js/jquery-ui-1.10.3.min.js"></script>
	
	<!-- START Mandatory CSS for Using DataTable -->
	<!-- Remove : duplicate parent page  -->
	<!-- 	<link rel="stylesheet" type="text/css" href="/resources/datatable/css/bootstrap.min.css"> -->
	<link rel="stylesheet" type="text/css" href="/resources/datatable/css/jquery.dataTables.css">
	<link rel="stylesheet" type="text/css" href="/resources/datatable/css/dataTables.tableTools.css">
	<!-- END Mandatory CSS for Using DataTable -->
	
	<!-- START Mandatory for Using DataTable -->
	<script src="/resources/datatable/js/bootstrap.min.js"></script>
	<script src="/resources/datatable/js/jquery.dataTables.min.js"></script>
	<script src="/resources/datatable/js/dataTables.tableTools.min.js"></script>
	<script src="/resources/datatable/js/dataTables.buttons.min.js"></script>
	<!-- End Mandatory for Using DataTable -->
</th:block>

<!-- Page Content -->
<th:block th:fragment="content">
<div id="page-wrapper">
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">List</h1>
				<div class="container text-center">
					<div class="table-responsive">
						<table id="dataTableLinkTable" class="table table-striped table-bordered text-left">
							<thead>
								<tr>
									<th>Js Name</th>
									<th>Js Link</th>
								</tr>
							</thead>
						</table>
					</div>
				</div>
			</div>
			<!-- /.col-lg-12 -->
		</div>
		<!-- /.row -->
	</div>
	<!-- /.container-fluid -->
</div>
<!-- /#page-wrapper -->

<script>
	$(function(){
		$.ajax({
			url : "/datatable/list",
			dataType : 'json',
			success : function(data){
				console.log(data);
				var table =  $('#dataTableLinkTable').DataTable({
					data : data,
					columns: [
						{ data: "name"},
						{ data: "path"}
					]
				});
			}
		});
	});
	
	/*
	$(document).ready(function() {
		table = $('#dataTableLinkTable').DataTable({
			"serverSide" : true,
			"ajax" : {
				"url" : '/datatable/list',
				"dataSrc" : 'data'
			},
			columns : [ 
				{data : "name"
			}, {
				data : "path"
			}, ],
			dom : 'T<"clear">lfrtip',
			tableTools : {
				"aButtons" : [ {
					"sExtends" : "select",
					"sButtonText" : "계정추가",
					"fnClick" : function() {
						addUser();
					}
				}, {
					"sExtends" : "xls",
					"sTitle" : '계정관리' // 파일명 변경  기본은 html title 명을 따라가게 되어있다.(변경)
				}, ],
				"sSwfPath" : "/js/plugin/datatables/swf/copy_csv_xls_pdf.swf"
			}
		});
	});
	*/
</script>

</th:block>